# Bilibili 上传配置说明

## 概述

本文档详细说明了 Bilibili 视频上传的所有配置选项，帮助你自定义视频投稿的各项参数。

## 配置项列表

### 基础配置

#### copyright

- **类型**：整数
- **默认值**：1
- **可选值**：
  - `1` - 自制
  - `2` - 转载
- **说明**：视频版权类型。如果选择转载，需要填写 `source` 字段

#### source

- **类型**：字符串
- **默认值**：""（自动使用 YouTube URL）
- **说明**：转载来源。当 `copyright = 2` 时必填。如果留空，系统会自动使用 YouTube 视频链接

#### no_reprint

- **类型**：整数
- **默认值**：1
- **可选值**：
  - `0` - 允许转载
  - `1` - 禁止转载
- **说明**：是否允许他人转载你的视频

### 标题和描述配置

#### use_original_title

- **类型**：布尔值
- **默认值**：true
- **说明**：
  - `true` - 使用 YouTube 原始标题
  - `false` - 使用 AI 生成的标题
- **推荐**：对于英文视频，建议设为 `false` 使用 AI 翻译

#### use_original_desc

- **类型**：布尔值
- **默认值**：false
- **说明**：
  - `true` - 使用 YouTube 原始描述
  - `false` - 使用 AI 生成的描述
- **推荐**：建议设为 `false`，AI 生成的描述更适合 B 站风格

#### custom_desc_template

- **类型**：字符串
- **默认值**：""
- **说明**：自定义描述模板，支持变量：
  - `{original_desc}` - YouTube 原始描述
  - `{ai_desc}` - AI 生成的描述
- **示例**：

```toml
custom_desc_template = """
【视频内容】
{ai_desc}

【原视频描述】
{original_desc}
"""
```

### 分区和分类

#### tid

- **类型**：整数
- **默认值**：122
- **说明**：B 站分区 ID
- **常用分区**：
  - `1` - 动画
  - `3` - 音乐
  - `4` - 游戏
  - `5` - 娱乐
  - `11` - 电视剧
  - `13` - 番剧
  - `23` - 电影
  - `36` - 科技
  - `119` - 鬼畜
  - `122` - 日常
  - `129` - 舞蹈
  - `138` - 搞笑
  - `155` - 时尚
  - `160` - 生活
  - `167` - 国创
  - `177` - 纪录片
  - `181` - 影视
  - `188` - 数码
  - `211` - 美食
  - `217` - 动物圈
  - `223` - 汽车
  - `234` - 运动
  - `235` - 知识

完整分区列表请参考：[B 站分区列表](https://github.com/SocialSisterYi/bilibili-API-collect/blob/master/docs/video/video_zone.md)

### 动态和互动

#### dynamic

- **类型**：字符串
- **默认值**："发布了新视频！"
- **说明**：投稿时发布的动态文本
- **建议**：可以自定义更有趣的动态，吸引粉丝关注

#### open_elec

- **类型**：整数
- **默认值**：0
- **可选值**：
  - `0` - 关闭充电面板
  - `1` - 开启充电面板
- **说明**：是否开启充电功能（需要满足 B 站充电条件）

### 高级配置（暂不支持）

以下配置项已在代码中定义，但由于 Bilibili SDK 限制，暂时无法使用。配置后会在日志中显示警告。

#### selection_reserve

- **类型**：整数
- **默认值**：0
- **说明**：参与活动 ID（0 表示不参与）
- **状态**：⚠️ 暂不被 SDK 支持

#### up_selection_reply

- **类型**：整数
- **默认值**：0
- **可选值**：
  - `0` - 不展示推荐评论
  - `1` - 展示推荐评论
- **状态**：⚠️ 暂不被 SDK 支持

#### up_close_reply

- **类型**：整数
- **默认值**：0
- **可选值**：
  - `0` - 开启评论
  - `1` - 关闭评论
- **状态**：⚠️ 暂不被 SDK 支持

#### up_close_reward

- **类型**：整数
- **默认值**：0
- **可选值**：
  - `0` - 开启打赏
  - `1` - 关闭打赏
- **状态**：⚠️ 暂不被 SDK 支持

## 配置示例

### 示例 1：转载 YouTube 视频（推荐配置）

```toml
[BilibiliConfig]
  copyright = 2                    # 转载
  source = ""                      # 自动使用YouTube链接
  no_reprint = 1                   # 禁止转载
  use_original_title = false       # 使用AI翻译标题
  use_original_desc = false        # 使用AI生成描述
  custom_desc_template = ""        # 不使用自定义模板
  tid = 122                        # 日常分区
  dynamic = "发布了新视频！"         # 默认动态
  open_elec = 0                    # 关闭充电
```

### 示例 2：游戏视频

```toml
[BilibiliConfig]
  copyright = 2
  source = "YouTube"
  no_reprint = 1
  use_original_title = false
  use_original_desc = false
  tid = 4                          # 游戏分区
  dynamic = "又来分享游戏啦！"
  open_elec = 1                    # 开启充电
```

### 示例 3：自定义描述模板

```toml
[BilibiliConfig]
  copyright = 2
  source = "YouTube"
  no_reprint = 1
  use_original_title = false
  use_original_desc = false
  custom_desc_template = """
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📺 视频简介
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

{ai_desc}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📝 原视频信息
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

{original_desc}

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
⚠️ 转载声明
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

本视频为转载内容，仅供学习交流使用。
如有侵权，请联系删除。
"""
  tid = 122
  dynamic = "分享一个有趣的视频！"
```

### 示例 4：科技区视频

```toml
[BilibiliConfig]
  copyright = 2
  source = "YouTube"
  no_reprint = 1
  use_original_title = false
  use_original_desc = false
  tid = 36                         # 科技分区
  dynamic = "科技新知识get！"
  open_elec = 1
```

## 字段长度限制

### B 站官方限制

| 字段 | 最大长度     | 说明           |
| ---- | ------------ | -------------- |
| 标题 | 80 字符      | 超过会自动截断 |
| 描述 | 2000 字符    | 包含原视频链接 |
| 标签 | 每个 20 字符 | 最多 12 个标签 |
| 动态 | 233 字符     | 投稿动态文本   |

### 系统处理

- **标题**：自动截断至 80 字符，保留 "..." 后缀
- **描述**：预留约 200 字符给原视频链接和分隔线，实际可用约 1800 字符
- **标签**：AI 生成 3-5 个标签，每个控制在 20 字符以内

## 注意事项

### 1. 版权声明

- 转载视频务必设置 `copyright = 2`
- 填写正确的 `source` 来源
- 建议开启 `no_reprint = 1` 防止二次转载

### 2. 分区选择

- 选择正确的分区很重要，影响推荐和流量
- 错误的分区可能导致视频被移除
- 不确定时使用默认的 `122`（日常）

### 3. 标题和描述

- AI 生成的标题通常比原标题更适合 B 站
- 自定义描述模板可以让视频更专业
- 避免在描述中使用敏感词汇

### 4. 动态文本

- 动态会显示在你的动态列表中
- 可以使用 emoji 增加趣味性
- 避免过于频繁发布相同动态

## 常见问题

### Q: 如何知道视频应该选择哪个分区？

A: 参考以下原则：

1. 查看 YouTube 视频的类别
2. 在 B 站搜索类似视频，看它们在哪个分区
3. 优先选择更具体的二级分区
4. 不确定时使用 `122`（日常）

### Q: 为什么我的标题被截断了？

A: B 站限制标题最多 80 个字符（中文字符）。系统会自动截断并添加 "..."。建议：

- 使用 AI 生成标题（通常控制在 30 字以内）
- 手动编辑过长的标题

### Q: 自定义描述模板的变量不生效？

A: 确保：

1. 变量名拼写正确：`{original_desc}` 和 `{ai_desc}`
2. 使用三引号包裹多行文本：`""" ... """`
3. 检查配置文件格式是否正确

### Q: 高级配置为什么不生效？

A: 部分高级配置（如 `selection_reserve`、`up_close_reply` 等）暂不被 Bilibili SDK 支持。这些配置已在代码中预留，等待 SDK 更新后即可使用。

### Q: 如何测试配置是否正确？

A:

1. 查看日志输出，会显示所有投稿参数
2. 先用一个测试视频尝试
3. 检查上传后的视频信息是否符合预期

## 更新日志

### v1.0.0 (2024-11-24)

- ✅ 支持分区选择（`tid`）
- ✅ 支持自定义动态（`dynamic`）
- ✅ 支持充电面板（`open_elec`）
- ⚠️ 预留高级配置（等待 SDK 支持）

## 参考资源

- [B 站分区列表](https://github.com/SocialSisterYi/bilibili-API-collect/blob/master/docs/video/video_zone.md)
- [B 站投稿规范](https://www.bilibili.com/blackboard/help.html#/%E6%8A%95%E7%A8%BF%E8%A7%84%E8%8C%83)
- [B 站社区规范](https://www.bilibili.com/blackboard/help.html#/%E7%A4%BE%E5%8C%BA%E8%A7%84%E8%8C%83)
